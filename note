数据分析目录 :

    一. 数据分析
        1. 数据分析 
        2. 统计学
        3. 数据挖掘
        4. BI
        5. 增长黑客
    二. 工具
        1. Excel
        2. Mysql
        3. python
        4. Hive
    三. 行业
        1. 互联网
    四. 其他
        1. 开发
        2. 英文
        3. Mac
        4. 疑问
        5. 其他


一.1. 数 据 分 析 

    1. 分析框架、思维、方法、模型
    2. 指标
    3. 可视化
    4. 常规分析
    5. 专项分析
    6. 预测
    7. A/B测试
    8. 建模
    9. 其他

    数据分析的目的 : 针对"原因是什么，需要采取哪些行动(做什么、做多少、怎么做)"等问题得出结论。
    
    数据分析师 : 可能就是业务人员，不同的是决策可以有数据佐证，可以从数据中发现机会

    4种基本能力

        1. 解读数据
           掌握观察数据的'视点'(这是驾驭数据的基础)
        2. 基本的数据分析方法
           掌握通用的整理和分析数据的基本方法
        3. 综合能力
           将各种方法或思维模式有机结合起来，形成具有整体一惯性的解决问题的故事
        4. 高级分析技能和IT技能
           掌握运用专业的高难度方法和高难度技术进行分析的能力

    负责 
        监测业务 : 全面反应业务目标，全面监测业务基本情况
        指导业务 : 根据分析的结果，指导业务该做什么、怎么做、做多少
        从公司外部视角，深入挖掘公司及外部市场的数据和信息，反复尝试，直到找出能让自己信服的解释或故事。

    工作基于
        基于业务维度数据 
        统计学知识(业务数据与统计学数据分布、假设检验、置信度等结合)
        数据挖掘

    工作态度
        独立负责一个项目，主导、主动去做，全面建立业务监测指标体系
        不是由某个个人做决定，而是通过数据客观的展现。
        以客观数据为基础，故事流程具有逻辑性，细致、完整。
        摒弃主观臆想和经验主义，要多次检查故事的严谨性。
        内容符合事实，论据充分，内容容易让相关部门懂。


    1. 分析框架、思维、方法、模型

       框架 : 从开展分析项目都产出分析结果的整体逻辑
       思维 : 产出科学的分析结果的思维方式
       方法 : 通过分析方法产出科学的分析结果，目前已经存在很多科学的分析方法，需要选择合适的方法进行分析
       模型 : 数据模型，输入数据，产出科学的分析结果，目前也已经存在很多科学的分析模型，需要选择合适的模型进行分析


        <1> 框架 

            划定范围 -> 分解数据 -> 锁定原因 -> 制定对策 -> 讲故事

            确定目的或问题，大致把握现状

            分解问题，锁定关键问题

            假设原因，锁定问题原因 

            讨论及实施对策
              
                确定目的或问题并大致把握现状 
                    此步骤目的 : 可以确定方向，有目的性的分析，达到目标
                    确认问题 : 确认问题，确认衡量指标，明确现状和与计划间的差距，划定问题范围，了解基本情况，增加基础假设
                    确认目的 : 最终要达到什么目标。例如完整地了解到现状、找到原因并产出方案、得到全新认知、做方案的调整、升级战略等
                      方法 : 
                        1.5W2H问题分析法(what why where when who how how_much)。
                        2.分析受众人。向客户了解情况，摸清客户心思，预判客户需要的内容，调整分析目的，分析越有可能派上用场
                        (1)不停地问'是多少',使各种目标和确信观点得到量化
                        (2)预见客户的想法，他一定会关心竞争对手的情况
                        (3)对某些数据感到好奇吧?问吧!

                分解问题
                    此步骤目的 : 找到是什么导致问题发生 
                    提出假设 : (为了比较进行假设，不同的什么什么，比较可以得到结论)
                        从假设、着眼点、驱动因素、影响因素、哪些具体因素的影响提出假设，适当可以大胆假设(小心求证)。有时提出重点的也有时完全穷尽，避免遗漏和重复。
                        基于逻辑树     : 较小范围和要素情况下分解问题
                        基于what型假设 : 较大范围(包括多个要素的数据)情况分解问题，因即使进行比较也很难找到差异的，需要"四则运算"来分解数据，使其变得更为详细和具体
                                         比较的维度:从可能可以更准确定位关键的维度进行比较，进而锁定问题关键 例 年龄维度中 20-30岁的用户忠诚度最低 则关键为20-30岁用户
                    筛选假设 : 要从 1.假设得到验证，就能怎么继续分解及采取什么对策去预测，大致可以到达最终目标。 2.可以有数据 两个角度筛选假设 
                    挖掘深度 : 如果认为进一步分解能够体现数据特征的差异，可以继续分解(提高分析的准确度)。只要最终能够锁定原因，并设想出具体措施即可

                分析 
                    此步骤目的 : 在罗列了基础问题和原因的基础上，锁定关键的问题与问题的原因
                    把握数据与观察的视点，仔细推敲数据证据，锁定关键问题与原因
                    把握视点 : 看什么，怎么看(看不同地区销售额的月日均值/门店数指标，利用趋势与快照视点)
                         看什么 : 能充分体现出分析的目的的指标，缺少数据时，设法借用相同或近似的数据来代替理论上所需的数据 
                         怎么看 : 趋势、快照、可能的维度视点对数量、比例、均值、相关系数、标准差等统计量进行比较。
                                  注意:确认统计口径和组间是否有差异，确认是否涵盖了各种视点，销售总额/该区域门店数
                    推敲数据 : 仔细推敲数据证据，作出结论(合理应用易懂的分析思维、方法、模型)
                    锁定关键 : 选择能够采取对策的部分作为关键(分析结果要能派上用场，研究无妨)
                               利用矩阵排列优先顺序，两个或多个维度展现其相对定位，例如平均分数与满意度两个维度观察。PQM模型排定优先级

                 假设原因
                    此步骤目的 : 为什么会发生这个问题 
                    基于why型假设 : 为了锁定原因进行假设
                        why型假设是将问题放在最顶层，然后列出能够回答"为什么"的所有可能答案。接下来再针对这些答案，同样重复"为什么"的提问，进一步深入挖掘，
                        接下来，总结关键词，因一句话不太容易在大脑中留下印象，而关键词比较容易发现遗漏或者重复
            
                报告 
                    背景 : 
                        重点描述对象的现状困境问题，与分析呼应。
                        用讲故事的方式呈现 : 背景-冲突-疑问-回答
                        例如:农药植保需要人工完成，工作强度大，人员易中毒，工作效率低，每年全国因农药中毒的人数达数万人。
                    结论
                        根据作出的结论讲故事。严谨、精炼、有的放矢
                        结论先行:每个报告只有一个中心思想，并放在报告的最前面
                        以上统下:每一层次上的思想必须是对下一层次思想的总结概括。越往金字塔上层的结论价值越高。
                        归纳分组:每一组中的思想必须属于同一逻辑范畴
                        逻辑递进:每一组中的思想观点必须按照逻辑顺序排列
                    决策
                        期望目标是什么，为达到目标应该做什么、做多少、怎么做，尽可能以定量的、合乎逻辑的方式，说明需要为什么要这样做
                        措施优先级排序 : 将目标影响的大小和实施的难易程度(所需时间、技能、工时、总费用等较少的情况更为理想)体现在散点图，其中越易实施，效果(影响)越大优先。
                                         最好经过多人确认，最后落实为大家一致同意的内容。

              备注 :
                心智模型 
                    心智模型就是看法
                    心智模型决定对问题和数据的观察结果。心智模型就是对外界的假设和确信的观点，务必明确心智模型，妥善利用
                    心智模型应当包括不了解的因素，一定要指出不确定因素，会揭示出未知信息，发现盲点
                    确定问题-使用正确的心智模型-用该心智模型去观察外界
                    回顾问题-更换心智模型-用新的模型去观察
                 思路 :
                     通过分析什么预测可以了解到什么。可以换位思考，提供哪些东西会影响需求人，强调影响
                     例:通过货品分析，了解到该平台品类销售情况和产品的价格带在哪个位置，以此可以进行ABC分类的优化和了解平台产品定位，并尝试定位产品低评的原因
                报告原则
                    你提交给客户的报告要以得到客户理解、鼓励客户以数据为基础作出明智的决策为重点。(客观，不带主观臆断)
                项目评估
                    在分析结束后，跟进目标、方案或决策的完成情况，对自己的分析能力进行总结与提高


        <2> 思维

            基本思维 : 目标 : 北极星，以终为始
                       对比 : 对比得高低，高低得结论
                       细分 : 细化问题，有的放矢
                       归纳 : 总结个体到一般规律
                       演绎 : 通过一般规律到个体
            
            探索思维 : 溯源 : 追本溯源，寻找源头、缘由
                       相关 : 相关性
                       假设 : 大胆假设，小心求证
                       逆向 : 从结果出发

            (1) 目标思维 :

                以终为始，明确目标，围绕目标，才不会迷失方向，目标作为北极星，始终向着目前前进，直到到达目标
                正确定义问题、合理分解问题、抓住关键问题

            (2) 对比思维 :

                对比得高低，通过高低得结论，比较越多，分析结果越正确
                同环比、与目标比、来源比 
                同类比:普通同类比较，分组后比较，构成(同类占比情况饼图)，多指标分析(多指标描述某一个事物)，分组后比较(人为划组后，比较指标)

            (3) 细分思维 :

                在明确金字塔顶问题后，运用细分思维拆解问题。在拆解的过程中，要做到有的放矢(细分后的问题有用，实际可以作用到)，细分的方式合理
                常见细分方式 : 时间、空间、过程、公式、模型

            (4) 溯源思维 :

                细分拆解问题的时或者到达底层后，通过对问题提问为什么的方式，追寻发生此问题的本质原因(追寻完再追寻，直到无法追寻或源头无法作用，无法优化为止)
                追本溯源

            (5) 相关思维 :

                用来找相关性。是变量间的关联程度，结果只证明了相关性，非因果关系(改变x不能改变y)
                步骤 : 收集相关数据->绘制散点图->计算相关系数

            (6) 假设思维 :

                彻底颠覆旧思想，大胆做出假设，小心求证假设
                步骤 : 提出假设->统计检验->做出判断

            (7) 逆向思维 :
                    
                定义 : 正向从自身习惯性角度出发，逆向是从结果出发
                解释 ：正向思维是指延着人们的习惯性思考路线去思考，逆向思维则是背逆人们的习惯路线去思维
                常见逆向思维 : 结构逆向、功能逆向、状态、原理、方法

            (8) 归纳思维 :
                    
                定义 : 从个体到一般
                解释 : 总结现象，得出规律
                示例 : 金、银、铜、铁等金属分别能导电，归纳出结论:所有金属都能导电
                方法 : 
                            求同法
                            求异法
                归纳方法    共用法
                            共变法
                            剩余法

            (9) 演绎思维 :

                定义 : 从一般到个体
                解释 : 利用规律，得出结论
                三步 :
                    大前提     小前提   结论
                    规律       变量     结论
                    金属能导电 铜是金属 铜能导电
                五项基本原则 : 
                    1. 不要出现第四个概念
                    2. 中项要能向外延伸
                    3. 大项和小项都不能扩大
                    4. 前提都为否，结论不必然
                    5. 前提有一否，结论必为否


        <3> 分析方法
        
            <1> 相关分析
            
                定义 : 
                    二者的关联关系
                相关系数 ：
                    相关的程度
                正负相关 :
                    正相关 二者同时向上 对勾的右侧
                    负相关 二者同时向下 对勾的左侧
                    研究目标与原因时，可以理解为 原因对目标有积极或不良的作用
                相关程度 : 
                    |r|的取值范围  |r|的意义 
                      0.00-0.19     极低相关
                      0.20-0.39     低度相关
                      0.40-0.69     中度相关
                      0.70-0.89     高度相关
                      0.90-1.00     极高相关
                相关不等于因果 :
                    因果性(causality)导致相关性(correlation)，反之不成立。1.可能存在其他变量。2.纯属巧合，尤其小样本
                优势 : 
                    1. 可以立即得出答案
                    2. 简单易懂
                    3. 不被单位影响
                    4. 为回归分析等进一步分析做铺垫(与其他分析组合使用，行程有脉络贯穿到底的完整故事)
                劣势:
                    1.样本小基本等于1或0，需要较多样本量
                    2.了解相关程度的大小，对锁定原因、问题非常有效，但只靠相关分析无法得知这个原因会对目标产生多大影响
                样本量 : 
                    一般认为最少30个样本
                应用的两种模式 : 原因与目标 流程输出间
                        1. 原因与目标的相关性，找出对最终目标具有密切影响的原因(影响结果的因素)
                            相关的:将资源转移到与目标关系更为直接的活动中
                            不相关:需要重新考虑是否继续这些活动
                        示例:在根据来店人数来决定营销费用的情况下，来店人数与营销费用之间正相关的程度越高，营销费用的效果越高。投入的营销费用越多，来店人数就增加越多，
                             但如果二者之前没有足够的正相关关系，营销费用就很有可能白白浪费。
                        2. 业务关联流程输出的相关性，关注流程之间传递的数据，在该业务流程中找到瓶颈
                           业务流程中包含金钱、信息等的流动，理想状态是所有要素都畅通无阻地抵达最终阶段(输出)。但如果某个环节出现了停滞，预想的输出就无法实现
                        示例:批发商发钱给零售店降价促销，发的钱与零售店降的钱，降的钱与销量的相关性
                                应该为 ”每台计算机的奖金金额"越高，零售店“每台计算机的减价促销金额"越高
                                       ”每台计算机的减价促销金额“越高，购买计算机的顾客越高
                                其中任何一项存在问题，相邻的二者都会看不到相关关系，
                4个陷阱 :
                    1. 因果关系:相关不等于因果。检验因果关系:考察两种数据发生变化的顺序,因果关系是原因变化在先，结果随后发生
                    2. 疑似相关:可能存在"第三个要素"。要随时提出多种假设，分别考察它们之间的相关关系，才能从某种程度上降低风险
                    3. 数据范围:例只有达到一定次数后，培训效果才会显现。在开始时仔细思考着眼点(提出合理假设)，或在分析前用散点图将数据展现出来，然后再逐一探索应该如何着眼
                    4. 离群值 : 离群值可能使相关系数变化0.5以上。应先散点图观察数据，调查离群值的原因，如果能找到合适的理由，则可以将其从对象中删除，再进行分析
                       要对离群值及数据范围等的处理方法加以说明，增加准确度和可靠性，令人信服

            (2) 一元回归分析

                定义 : 通过单一变量的回归公式进行预测
                散点 : 纵轴为"输出(结果或目的)" 被影响的变量
                       横轴为"输入(能够控制的变量)" 可以改变的变量
                       Excel 输入列放在左边，输出列在右侧 绘制结果即为标准散点图
                公式 : 右键点击图中的点添加趋势线，选中 显示公式 和 显示R平方值。y = ax + b
                斜率 : 若 x +- n ，则 y +- an
                衡量 : R方（相关系数的平方）或R（相关系数）都可以衡量回归方程的可信度(可信度为0.8)。R方越接近1，数据偏离程度越小，R方表示数据的偏离程度
                评价   0.00-0.19     极低相关
                       0.20-0.39     低度相关
                       0.40-0.69     中度相关
                       0.70-0.89     高度相关
                       0.90-1.00     极高相关
                       R方的参考标准可依据相关系数的标准。例如 R方>=0.49 可以放心使用回归方程
                作用 : 1.X 的变化对 Y 有多大影响
                       2.通过 Y 目标值，反推需要多少 X
                       用相关分析判断紧密程度，X 与 Y 相关，用回归分析判断影响的大小 aX + b  = Y (因b不变，所以X每增加1个，Y增加a个，2个2a)
                       令x=0，可以得出没有变量x影响的时候，正常的y值
                运用 : 1.数据之间必须具有单纯的比例关系(Excel同样可以计算曲线回归方程，可以比较R方，选择R方较高的方式)  
                注意   2.与相关分析注意事项相同 
                       3.非常易懂易用，但也因为过于简化而存在缺陷
                       4.把握结果的颗粒度，例如273人归为270人

                3种运用数据关系的模式

                    1. 成本和收益
                        1. 定义成本与收益指标具体指哪些内容
                                内容 : 1.能否充分体现分析的目的
                                       2.数据能否收集到
                                       3.二者必须存在相关关系
                        2. 对不同店面的成本与收益的回归方程进行比较
                                斜率更高的成本带来的收益更大
                        3. 得出具体影响的人数 : 回归y轴中值 - b值(0*a+b = y) 参考数据解决问题145页

                    2. 合理分配资源 
                        1. 逆向回归公式，通过y值推导出x值，结果导向，计算所需的x值是多少
                        2. 与缺乏可靠根据的预估金额相比，这种方法能够明确地体现出为达到什么样的数值目标，需要多少预算
                           这样不仅能够提高预算金额的准确度，提交高层管理者或上司审批时也更具说服力

            (3) 象限法

                定义 : 两个维度对大小、比例等做分析，使分析更具深度
                用处 : 评价事物，通过评价做决定。例如排优先级

            (4) 多指标法

                定义 : 多边图形，单指标统计的发展，多指标共同描述一个事物
                示例 : 人物的力量敏捷智力来描述一个人的综合情况，企业经营的净资产收益率 流动比率 资产经营利润率 销售利润率 存货周转率来描述企业的综合情况


        <4> 模型

            (1) SWOT分析 (四象限分析)

                优势(Strengths)、劣势(Weaknesses)、机会(Opportunities)、威胁(Threats)
                此思维模式主要用来协助分析者分析特定的对象所处的内部外部环境，分别就上述四个方面加以考量、分析利弊得失，并用来对企业的内外部环境与自身战略的匹配与否进行分析，协助分析者明白自身的得失，找出问题的根源，并设计出相应的战略应对对策。

            (2) 内外因素分析法

                         内部     外部
                可控   立即执行 相关渠道
                不可控 协调沟通 确定假设

            (3) SMART

            (4) 5W2H

            (5) 4P理论

                产品 渠道 促销 价格

            (6) 六顶思考帽

            (7) 海盗模型(AARRR)

            (9) RCV模型

           (10) 阿米巴经营

           (11) DOSS分析法

           (12) RFM 模型

                Recency(近期)     最近一次消费 
                Frequency(频率)   消费频率
                Monetary(货币的)  消费金额

           (13) 帕累托分析(贡献度分析，二八法则)

                百分之二十的事物贡献了百分之80的盈利，按照盈利做降序，对占比进行累加运算
                Excel计算实现 :
                事物名 盈利      占比          累加
                   1    10   b/sum($盈利)  =sum($c$2,:c2)


    2. 指标

        指标体系 : 全面反应业务目标，全面监测业务基本情况。
            
        自定义指标 : 能体现业务的目的

        <1> 相对值指标
            (相对大的-相对基础)/相对基础 
            观察一个数值相对另一个数值的偏离程度，通过使用相对值，得到变化程度，在图表中直接展示该程度，即展示了偏离程度。(x轴用日期，y轴百分比)

        <2> KPI

            重要业绩评价指标

        模板指标 :

        <1> 活跃指标

            Dau Wau Mau 

        <2> ROI 
   
            Return On Investment

            投资回报率，利润/成本，回报/成本，即收益占投资的比重,越高越好

            ROI = (收入-成本)/成本

        <3> KPI 
   
            Key Performance Indicator

            关键绩效指标

        <4> NPS 
   
            Net Promoter Score

            净推荐值指标 (顾客忠诚度分析指标)

            净促进者得分，亦可称口碑，是一种计量某个客户将会向其他人推荐某个企业或服务可能性的指数。它是最流行的顾客忠诚度分析指标，专注于顾客口碑如何影响企业成长。通过密切跟踪净推荐值，企业可以让自己更加成功。

        <5> CAC 

            用户获取成本

        指 标 模 型 :
        
           <1> OSM : Object 目标
                     Strategy 策略 
                     Measure 量度

           <2> UJM : User Journey Map 用户旅程地图

    
    3. 可视化

        <1> 散点图

            定义 : 和相关性息息相关。
            应用 : 只要数据涉及两种变量，就该考虑散点图
            绘制 : 纵轴为"输出(结果或目的)" 主观认为被影响的变量
                   横轴为"输入(能够控制的变量)" 主观认为可以改变的变量
                   Excel 输入列放在左边，输出列在右侧 绘制结果即为标准散点图
            公式 : 右键点击图中的点添加趋势线，选中 显示公式 和 显示R平方值


    4. 互联网分析

        <1>画像分群
                    
           比如考虑转化率时，需要区分移动端和Web端，以及美国用户和中国用户等不同场景，这样可以在策略优化上，有针对性的进行优化。

        <2> 漏斗观察

            通过漏斗分析可以从先到后的顺序了解某一用户的路劲，分析每一个转化节点的转化数据。
            需要关注 : 哪一步流失最多，关注流失的人都有哪些行为。

        <3> 行为轨迹

            行为轨迹是进行全量用户行为的还原。了解用户的行为轨迹，有助于运营团队关注具体的用户体验，发现具体问题，根据用户使用习惯设计产品，投放内容。

        <4> 留存分析

            留存是了解行为或行为组与回访之间的联系，留存老用户的成本要远远低于获取新用户，所以分析中的留存是非常重要的指标之一。
            除了需要关注整体用户的留存情况之外，市场团队可以关注各个渠道用户的留存度，或各类内容吸引来的注册用户的回访率。产品团队关注每一个新功能对于用户的回访的影响等。

        <5> 词频分析
            
            词频分析网站 : 图悦。链接 : http://www.picdata.cn/picdata/index.php


    5. 专项分析

        <1> 拆解主题 : 
        
            定义 : 将一个大的主题的事情，拆解为多个子项
            示例 : 营销主题，拆解为 客户分析、品类分析、区域分析、消费频率等子项去分析，都是属于营销分析。
            相关链接 : https://www.sohu.com/a/315867719_120104204


    6. 预测

        <1> 回归分析

            (1) 预测结果值
            (2) 结合控制实验，预测未来

        <2> 费米估计

            核心思想是对目标数值(y)进行拆解，像搭梯子一样一步一步靠近目标目标(不断寻找x来计算y，y是关于x的函数)。
   
        <3> ARIMA 预测

        ARIMA模型（英语：Autoregressive Integrated Moving Average model），差分整合移动平均自回归模型，又称整合移动平均自回归模型（移动也可称作滑动），是时间序列预测分析方法之一。ARIMA(p，d，q)中，AR是“自回归”，p为自回归项数；MA为“滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。“差分”一词虽未出现在ARIMA的英文名称中，却是关键步骤。


    7. A/B测试

        A/B测试是对比不同产品设计／算法对结果的影响。
        产品在上线过程中经常会使用A/B测试来测试产品效果，市场可以通过A/B测试来完成不同创意的测试。
        要进行A/B测试有两个必备因素：

            有足够的时间进行测试；
            数据量和数据密度较高。

    8. 建模

        当一个商业目标与多种行为、画像等信息有关联性时，我们通常会使用数据挖掘的手段进行建模，预测该商业结果的产生。


    9. 其他概念 
 
        <1> 幸存者偏差

            通过幸存下来的人得到的结论，是有偏差的，因为其忽略了大多数人

            幸存者偏差是一个概念，说明了我们不能只通过片面的样本得到结论，是存在偏差的

        <2> 马太效应

            指强者愈强、弱者愈弱、好的愈好，坏的愈坏，多的愈多，少的愈少的现象，广泛应用于社会心理学、教育、金融以及科学等众多领域。
            
        <3> 什么数据可用? 

            数据的可用性可以从数据的一致性、准确性、完整性、时效性及实体同一性五个方面进行考察

            一致性 :
                相关的数据之间可以对的上

            准确性 :
                数据可以精确表示现实物体，人们对数据的操作不会影响数据的准确性

            完整性 :
                数据集合包含的数据可以满足之后的所有需求，数据完整不丢失，不冗余(不重复)

            时效性 :
                数据能在不同的场景下能按照场景要求及时出现，数据是有效、与时俱进、不过时
        
            实体的统一性 :
                同一实体在各种数据源中的描述统一。同一个用户只有一个userid

            数据的一致性：指数据信息系统中各相关数据信息之间相容、不产生矛盾。
            数据的准确性：指数据信息系统中每个数据表示现实物体的精准程度。人们对数据进行操作的各个环节都可能影响数据准确性。
            数据的完整性：指数据集合包含的数据完全满足对数据进行各项操作的要求。
            数据的时效性：是指在不同需求场景下数据的及时性和有效性。对应用系统而言，往往对数据时效性要求较高，过时的数据即使分析出来了也不会对实际应用产生有价值的影响。
            实体的同一性：指同一实体在各种数据源中的描述统一。一个数据集合，满足以上五个性质的程度称为该数据集合的可用性。


一.2. 统计学


    1. 统 计 值 

        <1> 平均数 Average

            用 处 : 想大致了解对象大小时使用
            关 注 : 看到平均数时，关注是哪些要素综合计算出来的
            优 点 : 能用一个数值表现整体的'大小'，认知度高，便于沟通
            缺 点 : 平均之后，看不出原始数据，存在极大(小)值时，会受其影响

        <2> 中位数 Median
            
            优 点 : 不受离群值影响，用位于中间的数据表示，易于理解，便于沟通
            缺 点 : 与平均值比，表示整体'大小'程度不精确(因消除离群值影响的缺陷)，与平均值相同，看不到原始数据

        <3> 标准差 Standard Deviation

            表 示 : 以平均值为中心，数据对平均值的偏离程度
            用 处 : 能够客观体现数据波动大小的指标，反应数据的波动情况。可以根据标准差的数值对波动情况进行相对(比较)评价。

        <4> 变异系数

            公 式 : 标准差 / 平均值 
            用 处 : 消除数据大小的差异，不必在意原始数据的大小，从数值上用变异系数来比较两者的波动程度

        <5> 离群值

            定 义 : 离群值是指由于某种原因，与其他数据差距比较大的数据 

    <9> skew() 偏度 e

        <0 左偏分布 >0 右偏分布
        kurt() 峰度
        <0 扁平分布 >0 尖峰分布
        在实际分析中，通常将峰度与偏度结合使用，来判断变量的次数分布是否接近正态分布，或与正态分布的差别。

   <10> covariance.p() 总体协方差 后跟.s是样本协方差

        当>0 存在正的线性关系，即正相关，x增大y也增大
        当<0 存在负的线性关系，即负相关，x增大y会减小
        当~=0 x和y之间无线性关系，二者无关系

   <11> pp

        percent point 百分点


一.3. 数据挖掘


       方向 : 挖掘数据判断未来
       理论 : 机器学习算法等


一.4. BI 


    方向 : 搭建业务维度数据报表
           整合数据
           展示数据
           搭建bi报表可以很大程度解决数据分析师的工作，推动全部门的数据意识，降低其他部门的数据需求。


    1. 数据架构

        <1> 数仓层级

            ods > dwd > dws > ads
                ods : 原始数据层 
                      operation data store 
                      在业务系统中的最原始数据
                      命名规范 : ods_report

                dwd : 明细数据层
                      data warehouse detail
                      经过数据清洗后的层级
                      命名规范 : dwd_report 

                dws : 汇总数据层 
                      data warehouse service 
                      以分析的主题作为建表驱动，将零散的数据汇总至一张表里
                      命名规范 : dws_report

                ads : 个性化数据层
                      个性化、定制化、复杂性指标
                      命名规范 : ads_report


        <2> 数据模型

            星型模型 : 一张事实表，存其他维度表的主键，在维度表中存和事实表相同的主键以及
                       主键对应的具体内容 (比如事实表品牌id列,在维度表有一列品牌id,id=1的
                       对应阿迪达斯)

            雪花模型 : 是对星型模型的拓展，维度表不直接与事实表相连，而是连接与事实表连接的维度表

             码 表   : 是一种代码说明的表格，用来帮助用户明确无解释数据、字符和代码的含义

        <3> 报表

        <4> 埋点开发
    
            埋点需求输出 -> 需求开发排期 -> 需求开发及提测 -> 一灰
            PM写埋点需求 -> BI检查埋点需求，检查规范性、合理性 -> BI准出，RD接埋点开发需求 -> PM、BI、RD进行开发提需与排期 -> QA保证埋点质量、BI抽检埋点 -> 
            BI埋点问题反馈 1-> 埋点规范设计类问题:BI&PM负责推动解决 2-> 埋点开发质量类问题:PM负责推动解决 

        <5> 数据提取

            以书面形式落实 需求部门、需求背景、需求目的、数据来源、完成时间、以及各项数据指标的统计口径和含义是否统一


一.5 增长黑客

    1. 数据分析团队
    
       团队一起发挥，1+1大于2，团队的价值是非常大的

    2. 用户生命周期模型
    
        生命周期 : 指从产生到消亡的全过程
        
        AARRR模型 : Acquisition Activation Retention Revenue Referral    用户增长方法论

                        获取       激活      留存      变现    推荐

                    获取客户 
                    提高活跃率(活跃用户数、活跃率、使用时长、启动次数)
                    次留、周留、月留
                    获取收入
                    K-factor(K因子)

二.1. Excel

    
    复杂、量大的数据分析工作可以使用数据->数据分析 工具库

    <1> Excel 数字转日期
        =DATE(LEFT(A2,4),MID(A2,5,2),RIGHT(A2,2))

    <2> 生成随机数

        =rand()
        默认是 0 ~ 1 之间的随机数
        =rand()*100

    <3> 总体方差 : varp(单元格:单元格)

        总体标准差 : stdevp(单元格:单元格)
        样本方差 : var()
        样本标准差 : stdev()
        变异系数(消除量纲影响) : stdevp/mean

    <4> 中位数

        median()

    <5> 众数

        mode()

    <6> 偏度系数
    
        skew()

    <7> 峰度系数

        kurt()

    <8> 协方差

        样本 : sample     covariance.s()

        总体 : population covariance.p()

    <9> 看数据分布

        选择数据插入里选择数据透视图 -> 轴 值 均选择该列数据 -> 将值更改为计数 -> 完成

   <10> 相关系数

        correl(array1,array2)

   <11> 拼接两个日期

        =TEXT(A1,"y/m/d-")&"-"&TEXT(B1,"y/m/d")

   <12> 频率分布直方图

        1.需要两列数据 列1 : 用于分段的数 例如 5 10 15 20 25 30

                     列2 : 数据源，并非已经求好的频数，例如 1 22 17 13 25 29 29 30 30 30 11 11 12 12

        2. 数据 > 数据分析 > 直方图 > 输入数据为数据源列，接收区域为分段列，勾选标志(作用是可以带入字段名字)及图标输出

           注意 : 不能选中一整列，要直接选中数据，

   <13> 二项分布概率计算 :

        =BinomDist(success,all_time,p,cul)

        =BinomDist(成功次数，实验次数，成功概率，0概率密度，1累计概率密度)

   <14> 回归方程 :

        散点图，右键点击图中的点添加趋势线，选中显示公式

   <15> skew() 偏度 e

        <0 左偏分布 >0 右偏分布

        kurt() 峰度

        <0 扁平分布 >0 尖峰分布

        在实际分析中，通常将峰度与偏度结合使用，来判断变量的次数分布是否接近正态分布，或与正态分布的差别。

   <16> covariance.p() 总体协方差 后跟.s是样本协方差

        当>0 存在正的线性关系，即正相关，x增大y也增大

        当<0 存在负的线性关系，即负相关，x增大y会减小

        当~=0 x和y之间无线性关系，二者无关系

   <17> 求分位数

        四分位置 :

            上 : =QUARTILE(A:A,1)  

            下 : =QUARTILE(A:A,3)  

        其他分位 :

            percentile(A:A,20%)  (直接写百分比，不用加引号)


二.2. Mysql 
    

    <1> to_date() 

        转换为日期格式

    <1>.2 datediff(date1,date2)

        参数1<参数2，负值

        参数1>参数2，正值

    <2> mysql 获取json里的数据

        json_extract(字段,'.$键')

    <3> replace(field,willbe_replace,will_replace)

        mysql 字符串替换

    <4> -e 导出数据

        mysql -hxx -uxx -pxx -e "query statement" db > file 

        　　-h：后面跟的是链接的host（主机）

        　　-u:后面跟的是用户名

        　　-p:后面跟的是密码

        　　db:你要查询的数据库

        　　file:你要写入的文件，绝对路径

        示例 : mysql -h127.0.0.1 -uroot -p123 -e "select * from edu_iclass_areas" test > /Users/zhengcanrui/WORK/test/test.xls

        乱码问题解决 :

        mysql  --default-character-set=gbk -uroot -p   -D open_fusion -e  " select * from table1  "  > /home/apprun/test.xls

        Mac 下乱码 使用--def...=gbk
        
    <5> group by case when end

        end 后不能带 字段，但是如果想把group by 后面case when 出来的新字段，添加进select后面，直接在select后加case when ... when 和group by 相同的即可

    <6> ifnull()
    
        查询的字段如果有空值，把空值转换为第二个值

        mysql:ifnull(field,为空的话返回这个值)

    <7> where 与 having 的区别

        where 是对表本身进行筛选,约束的数据库里有的东西
        having是对查询出来的数据进行筛选,约束的查询结果中的东西

        where是一个约束声明，使用where来约束来自数据库的数据；where是在结果返回之前起作用的；where中不能使用聚合函数。
        having是一个过滤声明；在查询返回结果集以后，对查询结果进行的过滤操作；在having中可以使用聚合函数。

    <8> if函数

        if(条件判断语句，true结果,false结果)

        例如 :

            count(distinct(if(sid>60,sid,null))) 统计sid,false的不会被统计到，标准格式，false的值只有在写null时不会统计其他的。

    <9> strcmp函数

        strcmp(str,str) or strcmp(field,field) 若是field时，一一比较每行的两个值，返回多个 0 or 1 or -1

        解释 : 若二参数完全相同，返回0
            
               若第一个长度小于第二个,返回-1
             
               其他情况，均返回1

        比较两个字符串，如果两个字符串相等，则返回0；如果根据当前的排序顺序，第一个参数小于第二个参数，则返回-1，否则返回1。

   <10> 连续3天发生购买的用户(或留存)

        SELECT * FROM ord a JOIN ord b on a.name1=b.name1 and DATEDIFF(
        b.orderdate,a.orderdate)=1 JOIN ord c on c.name1=b.name1 and 
        DATEDIFF(c.orderdate,b.orderdate)=1;

   <11> sql中null与‘’的区别

            null表示空，用is null判断

            ''表示空字符串，用=''判断

   <12> mysql建表设置字符集

        ; 前添加 character set utf8;

   <13> 排序 MySQL

        order by field desc (注意添加order by 并且注意顺序)

   <14> count

        count(1),count(field) 不统计Null值

        count(*) 会统计到Null值

   <15> union union all

        union 去重 union all 为所有

        一个查询语句 但是需要筛选出条件不同的时，用union 与 union all

        union时会去除重复值，union all合并不去重
 
   <16> 遇到group by 问题

        set sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
  
   <17> round()

        小数位数，round(10.0000000,4) 保留4位

   <18> coalesce(ex1,ex2)

        当ex1为空时，返回ex2，不为空返回ex1
   
        coalesce(attrs['pub_page_id'],attrs['page_id']) in ('buslinepage','transferpage','stationinfo')

   <19> 窗口函数 

        rank()  rank:等级

        dense_rank() dense rank:密级

        row_number() row number:行号

   <20> cast 类型转换函数

        select cast(datetime as time) from a;

        Cast(字段名 as 转换的类型 )，其中类型可以为：

        CHAR[(N)] 字符型
        DATE 日期型
        DATETIME 日期和时间型
        DECIMAL float型
        SIGNED int
        TIME 时间型

   <21> order by 

        默认升序

        desc 降序 

        order by field desc 


二.3. Python 


    <1>Series.value_counts()

        统计一列数据中不同数据出现的次数

        a = pd.Series(d21_accident_sw_list).value_counts()

    <2> join

        列表合并为字符串

        a = [1,2,3,4]

        '_'.join(a)

    <3> split

        字符串分割为列表

        a = '1_2_3_4'

        a.split('_',1)  #1为切割一次

    <4> pow()

        python平方函数

        pow(x,y) x的y次方

    <5> factorial

        阶乘函数

        import math 

        math.factorial(3)

    <6> 排序不改变原列表

        sorted([3,2,1])

    <7> python 词云分析

        pip install wordcloud

        简单英文词云示例 :

            with open('./note','r') as fr:
            data = fr.read()
            import matplotlib.pyplot as plt
            from wordcloud import WordCloud
            wordcloud = WordCloud().generate(data)
            # ？下面这句不知道
            %pylab inline
            plt.imshow(wordcloud, interpolation='bilinear')
            plt.axis("off")

<8> Jupyter

#显示所有列
pd.set_option('display.max_columns', None)
#显示所有行
pd.set_option('display.max_rows', None)
#设置value的显示长度为100，默认为50
pd.set_option('max_colwidth',100)

#忽略错误
import warnings
warnings.filterwarnings('ignore')

    <9> python频率分布柱状图

        # d1 为原数字，a 为与之对应的出新的次数
        import pandas as pd
        import matplotlib.pyplot as plt
        d = pd.read_csv('./1.csv',header=None)
        d = list(d[0])
        d1 = list(set(d))
        a = []
        for i in d1:
        a.append(d.count(i))
        a
        # 绘制频率分布柱状图
        plt.bar(d1,a)

   <10> Pearson相关系数

        numpy :

        import numpy as np
        import pandas as pd
        pct_chg = pd.Series({'000001.SZ':-1.7391, '000002.SZ':0.6250,'000004.SZ':1.1378,'002600.SZ':0.0000,'000010.SZ':-1.0013})
        vol = pd.Series({'000001.SZ':249326.31,'000002.SZ':338224.97,'000004.SZ':211876.00,'000010.SZ':222782.00,'002600.SZ':342096.76})
        pccs = np.corrcoef(pct_chg, vol)
        print(pccs[0][1])

        # 其中 pd.Series() 里面1.存的是字段，则series的主键则是字段里的键 2.同样也可以使用列表:np.corrcoef([1,2,3],[1,2,3])[0][1]

        scipy :

        import numpy as np
        import pandas as pd
        from scipy.stats import pearsonr
        pct_chg = pd.Series({'000001.SZ':-1.7391, '000002.SZ':0.6250,'000004.SZ':1.1378,'002600.SZ':0.0000,'000010.SZ':-1.0013})
        vol = pd.Series({'000001.SZ':249326.31,'000002.SZ':338224.97,'000004.SZ':211876.00,'000010.SZ':222782.00,'002600.SZ':342096.76})
        pccs = pearsonr(pct_chg, vol)
        print(pccs[0])

   <11> python绘制三维图表

        from mpl_toolkits.mplot3d import Axes3D
        import matplotlib.pyplot as plt
        fig = plt.figure()
        ax = fig.add_subplot(111,projection='3d')
        ax.plot(d['翡翠饺子'],d['鸡肉'],d['牛肉'],label='parametric curve')
        ax.legend()
        plt.show()

   <12> 时间区间 pandas 

        dat = pd.date_range(start='1/04/2021', end='16/05/2021', freq='D')
        
        freq : 两个时间的间隔，D是一天，M是一个月。

    <13> 交集等

         set(a).intersection(set(b)) intersection只能对集合进行操作


二.4. hive


    <1> 去重计数

        count(distinct field)去重并计数

        应该选择使用 count(*) from ... where field is not null

    <2> 字段不为空

        is not null

    <3> hive 获取json里的数据
    
        get_json_object(字段,'.$键')

    <4> from_unixtime(field,'yyyy-MM-dd HH:mm:ss')
        时间戳转为日期时间格式,可以只转为日期，不加后面的时间

        20210909 转 2021-09-09 :
        select from_unixtime(unix_timestamp('20171205','yyyymmdd'),'yyyy-mm-dd');
    
    <5> date_sub 时间向前偏移函数

        参数 : 日期,偏移天数

        示例 : date_sub(current_date,1) 

               表向前偏移一天,昨天，可用
                
    <6> date_add 时间向偏移函数

        参数 : 日期,偏移天数 

        示例 : date_add(current_date,1)

               表向后偏移一天i,明天 

    <7> current_date 获取当前日期
        
        或 curdate()

        hivesql示例 : date_sub(current_date,7)  即可获取时间偏移

        为当前时间，日期时间格式 FROM_UNIXTIME(UNIX_TIMESTAMP())

    <8> size 

        得到数组的长度(元素个数)

    <9> split(field,str)

        参数:字段,以什么分割

   <10> { [ 需要 \\转义

        " 需要 \ 转义

   <11> substr

        截图字符串

        substr(str,int,int)

        哪里开始截，第一位是1，从哪开始截就是几

   <12> substr('2020-09-25 19:02:28',6,2);

        从日期时间，可以直接截取到字符串

        或者 month(date('2020-09-25 19:02:28'))

   <13> hive 替换字符串
   
        regexp_replace(poiname,'，','_')

        汉子英文均可以

   <14> 时间戳转日期

        转为固定格式 :

        from_unixtime(create_time,'yyyy-MM-dd HH:mm:ss'),

        转为具体到分秒的格式 :

        from_unixtime(create_time)

   <15> nvl

        查询的字段如果有空值，把空值转换为第二个值

        nvl(field,为空的话返回这个值)

   <16> <>

        不等于，与 != 相当

   <17> union 

        一个查询语句 但是需要筛选出条件不同的时，用union 与 union all

   <18> group_concat()

        mysql 分组合并值

            group_concat(要被合并的字段) ... group by 以谁为分组

        分组合并后去重 及 设置分隔符

            group_concat(distinct ... SEPARATOR ';') ... group by ...

        排序(不能和分隔符共同存在)

            group_concat(distinct ... desc) ... group by ...

   <19> 20200405 转 '2020-04-05'

        concat(substr(dt,1,4),'-',substr(dt,5,2),'-',substr(dt,7,2))

   <20> 视图(Hive,Oracle,Sql Server支持，Mysql不支持)

        临时视图表，减少重复sql代码

        WITH t1 AS (
                    SELECT *
                    FROM carinfo
                    ), 
             t2 AS (
                    SELECT *
                    FROM car_blacklist
                   )
       SELECT *
       FROM t1, t2;



三.1. 互联网


    1. 职位

        <1> 研发
        
            (1) BD 

                业务拓展和商务发展

            (2) SDE 

                高级软件开发工程师

            (3) RD

                研发工程师

                开发分工程与策略，工程搭建技术框架，提供服务。策略迭代算法。

        <2> 测试
        
            (1)SDET

                软件测试开发工程师

            (2) QA 

                Quality Assurance

                质量把控

        <3> 产品
        
            (1) PM

                项目经理

        <4> 数据
        
            (1) DSI 

                Data Science Intellgence

                数据科学与智能

        <5> 运营
        
            (1) BP

                business partnter 业务合作伙伴


    2. 工具

        <1> PRD 与 DRD (同是需求文档) 

            PRD : PRD是产品需求文档，描述了该产品的大方向。 - 产品大方向

            DRD : DRD是交互设计文档，用来承载交互说明，并交付给前端、测试以及开发工程师参考的文档。- 产品细节


    3. 概念

        <1> B端、C端 

            Consumer 个人用户端  To C

            Business 商家用户端  To B

        <2> O2O 
 
            Online To Offline 线上到线下

            O2O闭环，用户从线上到线下，最后再回到线上，只有这样，O2O才成为真正的O2O，而不是单纯的广告平台或分类信息提供者


        
四.1.1 开发


    <1> API 

        应用程序编程接口

        接口，通过API交给一个程序，程序返回一个内容

    <2> SDK

        软件开发工具包

        在本地建立程序，内容传入程序中产出内容

    <3> 日志

        操作系统或软件运行时存下来的过程数据

        日志数据就是计算机操作系统、或者有些应用软件在运行时，为了在今后进行系统维护起来比较方便，而将系统、或者应用软件在运行过程中产生的各种数据（通常是：用户名、用户执行的程序名、日期、时间等）写入到一个日志文件中（通常都是以 *.log　结尾）。以便今后系统出故障时可以有据可查。

    <4> kafka

        日志系统

    <5> 灰度测试

        未上线 : 黑

        中间   : 灰

        上线   : 白

    作用 :

        在某项产品或应用正式发布前，选择特定人群试用，逐步扩大其试用者数量，以便及时发现和纠正其中的错误。

        并可以 满足部分用户抢先体验的愿望

        还可以 收集用户体验的数据与指标，获得用户的意见反馈，完善产品功能，提升产品质量。


四.2. 英 文 

    
    1. 数据分析英文
        
        <1> outliers

            异常值

        <2> insight 

            洞察

    2. 互联网常用英文
    
        <1> banner 

            广告横幅


四.3. Mac 


     1. 常用指令
        
        <1> Mac brew 安装

            https://www.cnblogs.com/x1you/p/12506405.html

        <2> uname -a

            查看操作系统的版本

        <3> 查看文件的版本  

            file 文件


四.4. 疑问 


    <1> 权重如何分配


四.4.5 其 他 


    <1> 人次

        一个人多次会重复计算，按次数计算

        人数

        一个人不重复计算，按人数计算

        uv : 计算uv，在去重时，子项上钻需要将去重字段叠加到一起再去重。

    <2> hadoop 常用指令

        hadoop fs -get /user/map_da/map_bi/XXXXX/xxxx.sh   ###hdfs下载文件
        hadoop fs -put   xxxx.sh    /user/map_da/map_bi/XXXXX/    ####上传本地文件至hdfs
        hadoop fs -rm  /user/map_da/map_bi/XXXXX/xxxx.sh    ####删除远端hdfs文件
        hadoop fs -cat /user/map_da/map_bi/XXXXX/xxxx.sh   ###预览hdfs文件
        hadoop fs -mkdir /user/map_da/map_bi/XXXXX/dir    ###hdfs上新建目录
        hadoop fs -ls /user/map_da/map_bi/XXXXX/dir   ###查看hdfs目录信息
        hadoop fs -du -h /user/map_da/map_bi/XXXXX/dir   ###查看hdfs目录下文件大小

    <3> CRM 客户关系管理

        Customer Relationship Management
